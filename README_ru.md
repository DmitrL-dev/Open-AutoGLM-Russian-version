# Open-AutoGLM (–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ñ–æ—Ä–∫)

> üîí **–§–æ—Ä–∫ —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é** –ø—Ä–æ–µ–∫—Ç–∞ [zai-org/Open-AutoGLM](https://github.com/zai-org/Open-AutoGLM) —Å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–µ–π –Ω–∞ —Ä—É—Å—Å–∫–∏–π/–∞–Ω–≥–ª–∏–π—Å–∫–∏–π –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏.

[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](LICENSE)
[![Python](https://img.shields.io/badge/Python-3.10%2B-green.svg)](https://python.org)
[![Security](https://img.shields.io/badge/Security-Hardened-brightgreen.svg)](#–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)

---

## üìñ –ß—Ç–æ —ç—Ç–æ?

**Phone Agent** ‚Äî —ç—Ç–æ AI-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ Android-—É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å –ø–æ–º–æ—â—å—é –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π (VLM). –û–Ω –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç—ã, –ø–æ–Ω–∏–º–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è: –∫–∞—Å–∞–Ω–∏—è, —Å–≤–∞–π–ø—ã, –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ ‚Äî –≤—Å—ë —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞–º–∏ –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ.

### –î–ª—è –∫–æ–≥–æ —ç—Ç–æ—Ç –ø—Ä–æ–¥—É–∫—Ç?

| –ê—É–¥–∏—Ç–æ—Ä–∏—è | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|-----------|------------|
| **QA-–∏–Ω–∂–µ–Ω–µ—Ä—ã** | –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ UI –±–µ–∑ –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤ |
| **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å** | –ì–æ–ª–æ—Å–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º –¥–ª—è –ª—é–¥–µ–π —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ |
| **–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–∏** | –ò–∑—É—á–µ–Ω–∏–µ AI-–∞–≥–µ–Ω—Ç–æ–≤ –∏ –º–æ–±–∏–ª—å–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ |
| **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏** | –ü—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ AI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ |

### –ü—Ä–∏–º–µ—Ä

```bash
python main.py --lang ru "–û—Ç–∫—Ä–æ–π Chrome –∏ –Ω–∞–π–¥–∏ –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã"
```

–ê–≥–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç:
1. –°–¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç
2. –ù–∞–π–¥—ë—Ç –∏–∫–æ–Ω–∫—É Chrome
3. –ù–∞–∂–º—ë—Ç –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è
4. –ù–∞–π–¥—ë—Ç —Å—Ç—Ä–æ–∫—É –ø–æ–∏—Å–∫–∞
5. –í–≤–µ–¥—ë—Ç –∑–∞–ø—Ä–æ—Å
6. –°–æ–æ–±—â–∏—Ç –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û–±—â–∞—è —Å—Ö–µ–º–∞

```mermaid
flowchart TB
    subgraph User["üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"]
        CLI[CLI / Python API]
    end
    
    subgraph Agent["ü§ñ Phone Agent Core"]
        direction TB
        PA[PhoneAgent]
        AC[AgentConfig]
        DS[–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞]
        VA[–í–∞–ª–∏–¥–∞—Ç–æ—Ä]
    end
    
    subgraph Model["üß† AI –ú–æ–¥–µ–ª—å"]
        MC[ModelClient]
        VLM[Vision-Language Model<br/>AutoGLM-Phone-9B]
    end
    
    subgraph Actions["‚ö° –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–µ–π—Å—Ç–≤–∏–π"]
        AH[ActionHandler]
        Parser[–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ä—Å–µ—Ä<br/>–ë–µ–∑ eval!]
    end
    
    subgraph ADB["üì± –°–ª–æ–π ADB"]
        direction TB
        Conn[–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π]
        Dev[–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º]
        SS[–°–∫—Ä–∏–Ω—à–æ—Ç—ã]
        Input[–í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞]
    end
    
    subgraph Phone["üì≤ Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ"]
        Screen[–≠–∫—Ä–∞–Ω]
        Apps[–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è]
    end
    
    CLI --> PA
    PA --> DS
    DS --> Conn
    PA --> MC
    MC <--> VLM
    VLM --> Parser
    Parser --> VA
    VA --> AH
    AH --> Dev
    AH --> Input
    Dev --> Phone
    Input --> Phone
    SS --> Phone
    SS --> MC
```

### –î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```mermaid
flowchart LR
    subgraph phone_agent["üì¶ phone_agent/"]
        direction TB
        
        subgraph core["–Ø–¥—Ä–æ"]
            agent[agent.py<br/>–ö–ª–∞—Å—Å PhoneAgent]
            init[__init__.py<br/>–≠–∫—Å–ø–æ—Ä—Ç—ã –ø–∞–∫–µ—Ç–∞]
        end
        
        subgraph adb["adb/"]
            connection[connection.py<br/>USB/WiFi/Remote]
            device[device.py<br/>tap, swipe, back]
            screenshot[screenshot.py<br/>–ó–∞—Ö–≤–∞—Ç —ç–∫—Ä–∞–Ω–∞]
            input[input.py<br/>ADB Keyboard]
        end
        
        subgraph actions["actions/"]
            handler[handler.py<br/>–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π]
        end
        
        subgraph model["model/"]
            client[client.py<br/>OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π API]
        end
        
        subgraph config["config/"]
            apps[apps.py<br/>–ú–∞–ø–ø–∏–Ω–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π]
            prompts_en[prompts_en.py]
            prompts_ru[prompts_ru.py]
            i18n[i18n.py<br/>–ü–µ—Ä–µ–≤–æ–¥—ã]
        end
        
        subgraph utils["–£—Ç–∏–ª–∏—Ç—ã (–ù–û–í–û–ï)"]
            utils_py[utils.py<br/>Retry –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ]
            device_state[device_state.py<br/>–ü—Ä–æ–≤–µ—Ä–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞]
            validation[validation.py<br/>–í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤]
        end
    end
    
    agent --> handler
    agent --> client
    agent --> device_state
    handler --> device
    handler --> input
    agent --> screenshot
```

---

## ‚ö†Ô∏è –ü–æ—á–µ–º—É —Ñ–æ—Ä–∫?

### –ü—Ä–æ–±–ª–µ–º—ã –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

[–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π Open-AutoGLM](https://github.com/zai-org/Open-AutoGLM) –∏–º–µ–µ—Ç **–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**, –¥–µ–ª–∞—é—â–∏–µ –µ–≥–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

#### üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ: –£–¥–∞–ª—ë–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ (RCE)

**–§–∞–π–ª**: `phone_agent/actions/handler.py` (—Å—Ç—Ä–æ–∫–∞ 285)

```python
# –û–ü–ê–°–ù–û - –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–¥
if response.startswith("do"):
    action = eval(response)  # ‚Üê –í—ã–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π Python –∫–æ–¥!
```

**–†–∏—Å–∫**: –ï—Å–ª–∏ –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä—É–µ—Ç —Å–µ—Ä–≤–µ—Ä –º–æ–¥–µ–ª–∏ –∏–ª–∏ –ø—Ä–æ–≤–µ–¥—ë—Ç MITM-–∞—Ç–∞–∫—É, –æ–Ω –º–æ–∂–µ—Ç –≤–Ω–µ–¥—Ä–∏—Ç—å –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π –∫–æ–¥:

```python
# –ê—Ç–∞–∫—É—é—â–∏–π –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤–º–µ—Å—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ action:
do(action="Tap") or __import__('os').system('rm -rf /')
```

–≠—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –≤–∞—à–µ–π –º–∞—à–∏–Ω–µ.

#### üü° –î—Ä—É–≥–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

| –ü—Ä–æ–±–ª–µ–º–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| **–¢–æ–ª—å–∫–æ –∫–∏—Ç–∞–π—Å–∫–∏–π** | –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –∏ UI –Ω–∞ –∫–∏—Ç–∞–π—Å–∫–æ–º |
| **–ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** | –ê–≥–µ–Ω—Ç —Å—Ç–∞—Ä—Ç—É–µ—Ç –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ |
| **–ù–µ—Ç retry-–ª–æ–≥–∏–∫–∏** | ADB –∫–æ–º–∞–Ω–¥—ã –ø–∞–¥–∞—é—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–µ |
| **–ù–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è** | –°–ª–æ–∂–Ω–æ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã |
| **–ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏** | –ù–µ–≤–µ—Ä–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫—Ä–∞—à–∞—Ç –∞–≥–µ–Ω—Ç–∞ |

---

## üîí –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ß—Ç–æ –º—ã –∏—Å–ø—Ä–∞–≤–∏–ª–∏

| –£—è–∑–≤–∏–º–æ—Å—Ç—å | –†–µ—à–µ–Ω–∏–µ |
|------------|---------|
| `eval()` RCE | –ó–∞–º–µ–Ω—ë–Ω –Ω–∞ regex-–ø–∞—Ä—Å–µ—Ä |
| –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤–≤–æ–¥–∞ | –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (0-999) |
| –ù–µ—Ç whitelist –¥–µ–π—Å—Ç–≤–∏–π | –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è |

---

## üì≤ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –í–µ—Ä—Å–∏—è | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|--------|------------|
| Python | 3.10+ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
| ADB | –ü–æ—Å–ª–µ–¥–Ω—è—è | Android SDK Platform Tools |
| Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ | 7.0+ | USB –æ—Ç–ª–∞–¥–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞ |
| ADB Keyboard | - | –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞ |

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ADB

**Windows**:
1. –°–∫–∞—á–∞–π—Ç–µ [Platform Tools](https://developer.android.com/tools/releases/platform-tools)
2. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –≤ `C:\platform-tools`
3. –î–æ–±–∞–≤—å—Ç–µ –≤ PATH –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—ã

**Linux**:
```bash
sudo apt install android-tools-adb
```

### –®–∞–≥ 2: –í–∫–ª—é—á–∏—Ç–µ USB-–æ—Ç–ª–∞–¥–∫—É –Ω–∞ Android

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–û —Ç–µ–ª–µ—Ñ–æ–Ω–µ**
2. –ù–∞–∂–º–∏—Ç–µ **–ù–æ–º–µ—Ä —Å–±–æ—Ä–∫–∏** 7 —Ä–∞–∑ (–≤–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤**
4. –í–∫–ª—é—á–∏—Ç–µ **–û—Ç–ª–∞–¥–∫–∞ –ø–æ USB**
5. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω –ø–æ USB
6. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ADB Keyboard

```bash
adb install ADBKeyboard.apk
```

–°–∫–∞—á–∞—Ç—å: [ADB Keyboard APK](https://github.com/senzhk/ADBKeyBoard/raw/master/ADBKeyboard.apk)

–í–∫–ª—é—á–∏—Ç–µ: **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–Ø–∑—ã–∫ –∏ –≤–≤–æ–¥** ‚Üí **–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞** ‚Üí **ADB Keyboard**

### –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Phone Agent

```bash
git clone https://github.com/YOUR_USERNAME/Open-AutoGLM.git
cd Open-AutoGLM
pip install -e .
```

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É

```bash
python main.py --list-devices
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

python main.py --lang ru "–û—Ç–∫—Ä–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"
# –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ù–∞—Å—Ç—Ä–æ–π–∫–∏
```

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞

```bash
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
python main.py --lang ru

# –û–¥–Ω–∞ –∑–∞–¥–∞—á–∞
python main.py --lang ru "–û—Ç–∫—Ä–æ–π Chrome –∏ –Ω–∞–π–¥–∏ —É—Ä–æ–∫–∏ Python"

# –£–¥–∞–ª—ë–Ω–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
python main.py --connect 192.168.1.100:5555 --lang ru "–û—Ç–∫—Ä–æ–π Gmail"
```

### Python API

```python
from phone_agent import PhoneAgent, setup_logging, check_device_state
from phone_agent.agent import AgentConfig
from phone_agent.model import ModelConfig
import logging

# –í–∫–ª—é—á–∞–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
setup_logging(logging.INFO, log_file="agent.log")

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
state = check_device_state()
if not state.is_ready:
    print(f"–ü—Ä–æ–±–ª–µ–º—ã: {state.get_issues()}")
    exit(1)

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞
model_config = ModelConfig(
    base_url="http://localhost:8000/v1",
    model_name="autoglm-phone-9b",
)

agent_config = AgentConfig(
    max_steps=50,
    lang="ru",
    check_device_state=True,
)

# –ó–∞–ø—É—Å–∫
agent = PhoneAgent(model_config, agent_config)
result = agent.run("–û—Ç–∫—Ä–æ–π Telegram –∏ –ø—Ä–æ–≤–µ—Ä—å —Å–æ–æ–±—â–µ–Ω–∏—è")
print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç: {result}")
```

---

## üåê Web UI –∏ REST API

### Web Dashboard

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–º:

```bash
python -m phone_agent.web_ui
# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000/ui
```

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- üì± –°—Ç–∞—Ç—É—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–±–∞—Ç–∞—Ä–µ—è, —ç–∫—Ä–∞–Ω, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
- üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ
- üìã –ö–ª–∏–∫ –ø–æ UI —ç–ª–µ–º–µ–Ω—Ç–∞–º –Ω–∞–ø—Ä—è–º—É—é
- üìù –õ–æ–≥ –¥–µ–π—Å—Ç–≤–∏–π —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏

### REST API

–ó–∞–ø—É—Å—Ç–∏—Ç–µ API —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞:

```bash
python -m phone_agent.api --host 127.0.0.1 --port 8080 --api-key –≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á
```

**–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:**

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|----------|
| GET | `/` | –°—Ç–∞—Ç—É—Å API |
| GET | `/device` | –°–æ—Å—Ç–æ—è–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ |
| GET | `/ui/tree` | UI —ç–ª–µ–º–µ–Ω—Ç—ã |
| POST | `/task` | –í—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞—á—É |
| POST | `/action` | –í—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ |

**–ó–∞—â–∏—Ç–∞:**
- üîí –¢–æ–ª—å–∫–æ localhost –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- üîë –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ API –∫–ª—é—á—É
- ‚è±Ô∏è Rate limiting (60 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω)
- üìã Whitelist –¥–µ–π—Å—Ç–≤–∏–π

---

## üê≥ Docker

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t phone-agent .

# –ó–∞–ø—É—Å–∫ —Å USB (Linux)
docker run -v /dev/bus/usb:/dev/bus/usb phone-agent

# –ò–ª–∏ —á–µ—Ä–µ–∑ Docker Compose
docker-compose up
```

---

## üéØ –ü–∞—Ä—Å–∏–Ω–≥ UI Tree

–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ UI —ç–ª–µ–º–µ–Ω—Ç–∞–º:

```python
from phone_agent import get_ui_tree, find_element_coordinates

# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã
tree = get_ui_tree()

# –ù–∞–π—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç –ø–æ —Ç–µ–∫—Å—Ç—É
button = tree.find_one(text="–û—Ç–ø—Ä–∞–≤–∏—Ç—å", clickable=True)
if button:
    print(f"–ù–∞–π–¥–µ–Ω–æ: {button.center}")  # (540, 800)

# –ù–∞–π—Ç–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–æ —Ç–µ–∫—Å—Ç—É
coords = find_element_coordinates(text="–í–æ–π—Ç–∏")
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ dev –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install pytest pytest-cov

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pytest tests/ -v

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
pytest tests/ --cov=phone_agent --cov-report=html
```

---

## üîó –°—Å—ã–ª–∫–∏

- **–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç**: [zai-org/Open-AutoGLM](https://github.com/zai-org/Open-AutoGLM)
- **–ú–æ–¥–µ–ª—å (HuggingFace)**: [AutoGLM-Phone-9B](https://huggingface.co/zai-org/AutoGLM-Phone-9B)
- **ADB Keyboard**: [senzhk/ADBKeyBoard](https://github.com/senzhk/ADBKeyBoard)

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

Apache License 2.0 ‚Äî —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE).

---

## ‚ö†Ô∏è –û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω **—Ç–æ–ª—å–∫–æ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –∏ –æ–±—É—á–µ–Ω–∏—è**. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è:
- –ù–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º
- –û–±—Ö–æ–¥–∞ –º–µ—Ä –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –õ—é–±–æ–π –Ω–µ–∑–∞–∫–æ–Ω–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–í—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞–π—Ç–µ –Ω–∞–¥–ª–µ–∂–∞—â–µ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
